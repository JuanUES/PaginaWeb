function submitForm(formulario,notificacion){

    $.ajax({
        type: $(formulario).attr('method'), 
        url: $(formulario).attr('action'),
        data: $(formulario).serialize(),
        error : function(jqXHR, textStatus){
            if (jqXHR.status === 0) {
      
                errorServer(notificacion,'No conectar: ​​Verifique la red.');
        
            } else if (jqXHR.status == 404) {
        
                errorServer(notificacion,'No se encontró la página solicitada [404]');
        
            } else if (jqXHR.status == 500) {
        
                errorServer(notificacion,'Error interno del servidor [500].');
        
            } else if (textStatus === 'parsererror') {
        
                errorServer(notificacion,'Error al analizar JSON solicitado.');
        
            } else if (textStatus === 'timeout') {
        
                errorServer(notificacion,'Error de tiempo de espera.');
        
            } else if (textStatus === 'abort') {
        
                errorServer(notificacion,'Solicitud de Ajax cancelada.');
        
            } else {
        
                errorServer(notificacion,'Error no detectado: ' + jqXHR.responseText);
        
            }
            $('.modal').scrollTop($('.modal').height());
        },beforeSend:function(jqXHR, textStatus){
            $(notificacion).removeClass().addClass('alert alert-info bg-info text-white border-0').html(''
                    +'<div class="row">'
                    +'    <div class="col-lg-1">'
                    +'        <div class="spinner-border text-white m-2" role="status"></div>'
                    +'    </div>'
                    +'    <div class="col-lg-11 align-self-center" >'
                    +'      <h3 class="col-xl text-white">Cargando...</h3>'
                    +'    </div>'
                    +'</div>'
                ).show();
                $('.modal').scrollTop(0);
        },
    }).then(function(data) {

        $(notificacion).hide();

        if(data.error!=null){
            $(notificacion).removeClass().addClass('alert alert-danger bg-danger text-white border-0').show();
            $errores = '';
            for (let index = 0; index < data.error.length; index++) {
                $error = '<li>'+data.error[index]+'</li>';
                $errores +=$error;                    
            }

            $(notificacion).html('<h4 Class = "text-white">Completar Campos:</h4>'
                +'<div class="row">'
                +'<div class="col-lg-9 order-firts">'
                +'<ul>'+$errores+'</ul>'
                +'</div>'
                +'<div class="col-lg-3 order-last text-center">'
                +'<li class="fa fa-exclamation-triangle fa-7x"></li>'
                +'</div>'
                +'</div>'
            );
            
        }else{
            if(data.mensaje!=null && data.error==null){
                $(notificacion).removeClass().addClass('alert alert-success bg-success text-white ').html(''
                    +'<div class="row">'
                        +'<div class="col-xl-11 order-last">'
                            +' <h3 class="col-xl text-white">'+data.mensaje+'</h3>'
                        +'</div>'
                        +'<div class="col-xl-1 order-firts">'
                            +'<i class="fa fa-check  fa-3x"></i>'
                        +'</div>'
                    +'</div>'
                ).show();
                console.log(data.mensaje);
                $(".summernote-config").summernote("code", "");
                $(formulario)[0].reset();
                location.reload();
            }
        }
       // $('.modal').scrollTop($('.modal').height());
       $('.modal').scrollTop(0);
    });
}

function submitActivarDesactivar(boton,formulario){
    $.ajax({
        type: $(formulario).attr('method'), 
        url: $(formulario).attr('action'),
        data: $(formulario).serialize(),
        error : function(jqXHR, textStatus){
            if (jqXHR.status === 0) {
      
                $(boton).html('No conectar: ​​Verifique la red.');
        
            } else if (jqXHR.status == 404) {
        
                $(boton).html('No se encontró la página solicitada [404]');
        
            } else if (jqXHR.status == 500) {
        
                $(boton).html('Error interno del servidor [500].');
        
            } else if (textStatus === 'parsererror') {
        
                $(boton).html('Error al analizar JSON solicitado.');
        
            } else if (textStatus === 'timeout') {
        
                $(boton).html('Error de tiempo de espera.');
        
            } else if (textStatus === 'abort') {
        
                $(boton).html('Solicitud de Ajax cancelada.');
        
            } else {
        
                $(boton).html('Error no detectado: ' + jqXHR.responseText);
        
            }
        },beforeSend:function(jqXHR, textStatus){
            $(boton).prop('disabled', true).html(''
                +'<div class="spinner-border spinner-border-sm text-danger" role="status" aria-hidden="true"></div>'
            );
        },
    }).then(function(data) {
        $(boton).prop('disabled', false).html(data.boton);
    });
}

function errorServer(notificacion, error){
    $(notificacion).removeClass().show().addClass('alert alert-danger bg-danger text-white border-0').html('<div class="row">'
                +'<div class="col-xl-8">'
                +'<ul>'+error+'</ul>'
                +'</div>'
                +'<div class="col-lg-4 text-center">'
                +'<li class="fa fa-exclamation-triangle fa-3x"></li>'
                +'</div>'
                +'</div>'
    );
};

// Add the following code if you want the name of the file appear on select
$(".custom-file-input").on("change", function() {
    var fileName = $(this).val().split("\\").pop();
    $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
});

$('.modal').on('hidden.bs.modal',function(){
    $(".alert").hide();$(".summernote-config").summernote("code","");$("form").trigger("reset");$('.custom-file-input').siblings(".custom-file-label").addClass("selected").html('Seleccionar imagen');
});

function disableform(formId) {
formId=formId.replace('#', '');
var f = document.forms[formId].getElementsByTagName('input');
for (var i=0;i<f.length;i++)
    f[i].disabled=true
var f = document.forms[0].getElementsByTagName('textarea');
for (var i=0;i<f.length;i++)
    f[i].disabled=true
}

function enableform(formId) {
formId=formId.replace('#', '');
var f = document.forms[formId].getElementsByTagName('input');
for (var i=0;i<f.length;i++)
    f[i].disabled=false
var f = document.forms[0].getElementsByTagName('textarea');
for (var i=0;i<f.length;i++)
    f[i].disabled=false
}